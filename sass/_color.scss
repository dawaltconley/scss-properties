@use 'sass:map';
@use 'args';
@use 'var';
@use 'utils';

@function hasAlpha($colorName) {
  @return map.get(var.$COLORS, $colorName, 'alpha');
}

@function defaults($colorName, $properties: var.$HSL) {
  $ops: ();
  @each $property in $properties {
    $ops: map.set($ops, $property, utils.postfix($colorName, $property));
  }
  @return $ops;
}

@function makeColor($args...) {
  $type: args.parseKwargs($args...) or args.parsePositional($args...);
  @if not $type {
    @if args.hasAlpha($args...) {
      $type: var.$HSLA;
    } @else {
      $type: var.$HSL;
    }
  }

  @if $type == var.$RGBA {
    @return rgba($args...);
  } @else if $type == var.$RGB {
    @return rgb($args...);
  } @else if $type == var.$HSLA {
    @return hsla($args...);
  } @else if $type == var.$HSL {
    @return hsl($args...);
  }

  @return $type;
}
